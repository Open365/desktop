# Theming
## Theory:
##### Steps
  - Obtain the theme info for the current theme
  - Keep the interesting data and load all the resources
  - Add the modules to angular

##### Obtain the theme info for the current theme
Use the eyeos-theme lib to obtain the info of the theme. The info is:
  - The hooks
  - The modules
  - The addon templates ("buttons" or "content")
  - The styles

##### Keep the interesting data and load all the resources
  - The data is added to the EyethemeInfo, a singleton part of the theme module.
  - The hooks and the addon templates are used during the templating thanks to the eyetheme module.
  - The styles are added to the head.
  - The modules are added to a dependency loader that will require the needed modules.

##### Add the modules to angular
The modules, once loaded, need to be added to angular. To do so the dependency loader will pass the module names to the Angular init file (appModule). Once the modules are inside angular they can be used as any other angular module.

## Develop:
In develop we have 2 files involved in the process.
  - app.js: Gathers the theme info from the theme module, adds the sass to the head and fills the EyethemeInfo
  - dependencyLoaderDev: Loads all the modules of the current theme and passes the module names to appModule.js to be added to Angular

## Release:
In release we have 2 files involved in the process.
    - appBuild.js: Loads the preprocessed theme data and fills the eyeThemeInfo.
    - dependencyLoaderDist.js: This autogenerated file loads all the modules of the platform and passes the names to the angular file.
    
## Future:
We want to load in releas only the needed modules for the current theme. To do so we need to do the three steps

##### Obtain the theme info for the current theme
 - The theme info will be prepared in the theme folder

##### Keep the interesting data and load all the resources
 - All the styles will be added to the HEAD and the info for the current theme can be added to the eyeTheme info
 - Each module that's needed will be loaded independenlty and when all the modules are loaded the platform script is loaded. (missing)

##### Add the modules to angular
 - The list of modules is passed from the loader to the appModule.js to be added to Angular. (missing)
